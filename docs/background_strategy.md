# 백그라운드 전략 문서

## 목표
- 3분 테스트 주기(OneOff 재스케줄) + 버스트(15초 간격)로 수집 빈도 확인
- 운영 전환 시 15분 이상 권장, 또는 포그라운드 서비스 전환

## 문제와 대응
- DNS/네트워크 장애 → 저장 실패: access token 이메일 디코드로 매핑 호출 축소, 오프라인 큐 도입 예정
- Doze/절전 → 스케줄 지연: 포그라운드 서비스 전환 옵션 고려, 제조사 절전 예외 안내

## 권한/설정 가이드(사용자)
- 위치 권한: 항상 허용(Always)
- 배터리 최적화: 제한 없음, 백그라운드 활동 허용
- 데이터 절약: 앱 예외 등록

## 향후 계획
- 내부 user_id 캐시/전달(완료)
- 오프라인 큐 + 동기화 워커(1단계 완료: 실패 시 큐 적재, 성공 시 배치 업로드, 지수 백오프/최대 재시도)
- iOS 대안: Background Modes + 지오펜싱/ Significant-Change, 필요시 포그라운드
