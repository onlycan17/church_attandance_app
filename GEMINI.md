# GEMINI.md - 교회 예배 출석 체크 애플리케이션

## 1. 프로젝트 개요

- **프로젝트명**: 교회 예배 출석 체크 애플리케이션 (프로토타입)
- **목적**: 교회 구성원의 예배 출석을 GPS 위치 기반으로 자동화하여, 관리 효율성을 높이는 프로토타입을 개발합니다.
- **주요 기술**:
  - **클라이언트**: Flutter (iOS/Android)
  - **서버/DB**: Supabase
  - **인증**: 테스트용 단일 계정
- **핵심 아키텍처**:
  - 클라이언트는 백그라운드에서 5초 간격으로 사용자의 GPS 위치를 수집합니다.
  - 수집된 위치 정보는 Supabase 서버로 전송됩니다.
  - 서버는 매주 일요일 9:00~12:00 사이에, 교회 위치 반경 80m 이내에 사용자가 위치할 경우 출석으로 자동 기록합니다.

## 2. 빌드 및 실행 방법

### Flutter 프로젝트 실행

1.  **종속성 설치**:
    ```bash
    flutter pub get
    ```
2.  **애플리케이션 실행**:
    ```bash
    flutter run
    ```

### Supabase 설정

- Supabase 프로젝트는 이미 설정되어 있으며, 접속 정보는 `.env` 파일에 기록되어 있습니다.
- 데이터베이스 스키마는 `docs/database_schema.md` 문서를 참고하세요.

## 3. 개발 규칙 및 관행

- **코딩 스타일**: `flutter_lints` 패키지에서 권장하는 규칙을 따릅니다. 자세한 내용은 `analysis_options.yaml` 파일을 참고하세요.
- **데이터베이스**: 스키마 변경 시 `docs/database_schema.md` 문서를 반드시 업데이트해야 합니다.
- **인증**: 현재는 테스트를 위해 단일 계정을 사용하지만, 실제 배포 시에는 Supabase의 인증 시스템을 활용하여 다중 사용자 환경을 지원해야 합니다.
- **백그라운드 처리**: `geolocator` 패키지를 사용하여 백그라운드에서 위치 정보를 수집합니다. 배터리 소모를 최소화하는 방향으로 최적화가 필요합니다.
- **상태 관리**: (TODO: 상태 관리 라이브러리가 추가되면 여기에 명시)
- **테스트**: `test` 디렉토리 내에 위젯 및 단위 테스트를 작성합니다.

## 4. 주요 파일

- `church_attendance_app/pubspec.yaml`: Flutter 프로젝트의 종속성 및 설정 파일
- `church_attendance_app/lib/main.dart`: 애플리케이션의 메인 진입점
- `docs/PRD.md`: 프로젝트 요구사항 명세서
- `docs/database_schema.md`: Supabase 데이터베이스 스키마
- `.env`: Supabase 접속 정보 등 환경 변수 파일
